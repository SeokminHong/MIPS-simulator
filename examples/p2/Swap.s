;; Swap
; Mainly from ppt, but with minor changes (lw->lh, sw->sh)

lui $t5, 0x0123
ori $t5, $t5, 0x4567
lui $t6, 0x89ab
ori $t6, $t6, 0xcdef
lui $t7, 0xa0b1
ori $t7, $t7, 0xc2d3
lui $t8, 0x9988
ori $t8, $t8, 0x2211

ori $a0, $0, 0x100
ori $a1, $0, 0
ori $a2, $0, 4

j main
swap: sll $t1, $a1, 2   # $t1 = k * 4
      add $t1, $a0, $t1 # $t1 = v+(k*4)
                        #   (address of v[k])
      lw $t0, 0($t1)    # $t0 (temp) = v[k]
      lh $t2, 4($t1)    # $t2 = v[k+1]
      sh $t2, 0($t1)    # v[k] = $t2 (v[k+1])
      sw $t0, 4($t1)    # v[k+1] = $t0 (temp)
      jr $ra            # return to calling routine
main:
sw $t5, 0($a0)
sw $t6, 4($a0)
sw $t7, 8($a0)
sw $t8, 12($a0)
jal swap
addi $a1, $a1, 1
slt $s0, $a1, $a2
bne $s0, $zero, main
end:
beq $0, $0, end

;; \x23\x01\x0d\x3c\x67\x45\xad\x35\xab\x89\x0e\x3c\xef\xcd\xce\x35\xb1\xa0\x0f\x3c\xd3\xc2\xef\x35\x88\x99\x18\x3c\x11\x22\x18\x37\x00\x01\x04\x34\x00\x00\x05\x34\x04\x00\x06\x34\x15\x00\x00\x08\x00\x00\x00\x00\x80\x48\x05\x00\x20\x48\x89\x00\x00\x00\x28\x8d\x04\x00\x2a\x85\x00\x00\x2a\xa5\x04\x00\x28\xad\x08\x00\xe0\x03\x00\x00\x00\x00\x00\x00\x8d\xac\x04\x00\x8e\xac\x08\x00\x8f\xac\x0c\x00\x98\xac\x00\x00\x99\x8f\x00\x00\x39\x27\x09\xf8\x20\x03\x00\x00\x00\x00\x01\x00\xa5\x20\x2a\x80\xa6\x00\xf5\xff\x00\x16\x00\x00\x00\x00\xff\xff\x00\x10\x00\x00\x00\x00